{"ast":null,"code":"import _defineProperty from\"/Users/wojtas/Desktop/Kodilla/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/wojtas/Desktop/Kodilla/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/wojtas/Desktop/Kodilla/final-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import axios from'axios';import{API_URL}from'../config';/* selectors */export var getOrders=function getOrders(_ref){var orders=_ref.orders;return orders;};/* action name creator */var reducerName='orders';var createActionName=function createActionName(name){return\"app/\".concat(reducerName,\"/\").concat(name);};/* action types */var FETCH_START=createActionName('FETCH_START');var FETCH_SUCCESS=createActionName('FETCH_SUCCESS');var FETCH_ERROR=createActionName('FETCH_ERROR');var LOAD_ORDERS=createActionName('LOAD_ORDERS');/* action creators */export var fetchStarted=function fetchStarted(){return{type:FETCH_START};};export var fetchSuccess=function fetchSuccess(){return{type:FETCH_SUCCESS};};export var fetchError=function fetchError(payload){return{payload:payload,type:FETCH_ERROR};};export var loadOrders=function loadOrders(payload){return{payload:payload,type:LOAD_ORDERS};};/* thunk creators */export var loadOrdersRequest=function loadOrdersRequest(){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var orders;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(fetchStarted());_context.prev=1;_context.next=4;return axios.get(\"\".concat(API_URL,\"/orders\"));case 4:orders=_context.sent;_context.next=7;return dispatch(loadOrders(orders.data));case 7:_context.next=9;return dispatch(fetchSuccess());case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch(fetchError(_context.t0.message));case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x){return _ref2.apply(this,arguments);};}());};/* reducer */export var reducer=function reducer(){var statePart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};switch(action.type){case FETCH_START:{return _objectSpread({},statePart,{loading:{active:true,error:false}});}case FETCH_SUCCESS:{return _objectSpread({},statePart,{loading:{active:false,error:false},data:action.payload});}case FETCH_ERROR:{return _objectSpread({},statePart,{loading:{active:false,error:action.payload}});}case LOAD_ORDERS:{return _objectSpread({},statePart,{orders:action.payload});}default:return statePart;}};","map":{"version":3,"sources":["/Users/wojtas/Desktop/Kodilla/final-project/client/src/redux/ordersRedux.js"],"names":["axios","API_URL","getOrders","orders","reducerName","createActionName","name","FETCH_START","FETCH_SUCCESS","FETCH_ERROR","LOAD_ORDERS","fetchStarted","type","fetchSuccess","fetchError","payload","loadOrders","loadOrdersRequest","dispatch","get","data","message","reducer","statePart","action","loading","active","error"],"mappings":"swCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,WAAxB,CAEA,eACA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,UAAEC,CAAAA,MAAF,MAAEA,MAAF,OAAcA,CAAAA,MAAd,EAAlB,CAEP,yBACA,GAAMC,CAAAA,WAAW,CAAG,QAApB,CACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,IAAI,sBAAWF,WAAX,aAA0BE,IAA1B,GAA7B,CAEA,kBACA,GAAMC,CAAAA,WAAW,CAAGF,gBAAgB,CAAC,aAAD,CAApC,CACA,GAAMG,CAAAA,aAAa,CAAGH,gBAAgB,CAAC,eAAD,CAAtC,CACA,GAAMI,CAAAA,WAAW,CAAGJ,gBAAgB,CAAC,aAAD,CAApC,CACA,GAAMK,CAAAA,WAAW,CAAGL,gBAAgB,CAAC,aAAD,CAApC,CAEA,qBACA,MAAO,IAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,SAAO,CAAEC,IAAI,CAAEL,WAAR,CAAP,EAArB,CACP,MAAO,IAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,SAAO,CAAED,IAAI,CAAEJ,aAAR,CAAP,EAArB,CACP,MAAO,IAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,OAAO,QAAK,CAAEA,OAAO,CAAPA,OAAF,CAAWH,IAAI,CAAEH,WAAjB,CAAL,EAA1B,CACP,MAAO,IAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAD,OAAO,QAAK,CAAEA,OAAO,CAAPA,OAAF,CAAWH,IAAI,CAAEF,WAAjB,CAAL,EAA1B,CAEP,oBACA,MAAO,IAAMO,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CACrC,iGAAO,iBAAMC,QAAN,6HACLA,QAAQ,CAACP,YAAY,EAAb,CAAR,CADK,sCAGgBX,CAAAA,KAAK,CAACmB,GAAN,WAAalB,OAAb,YAHhB,QAGCE,MAHD,qCAIGe,CAAAA,QAAQ,CAACF,UAAU,CAACb,MAAM,CAACiB,IAAR,CAAX,CAJX,8BAKGF,CAAAA,QAAQ,CAACL,YAAY,EAAb,CALX,yFAOHK,QAAQ,CAACJ,UAAU,CAAC,YAAEO,OAAH,CAAX,CAAR,CAPG,qEAAP,iEAUD,CAXM,CAaP,aACA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAiC,IAAhCC,CAAAA,SAAgC,2DAApB,EAAoB,IAAhBC,CAAAA,MAAgB,2DAAP,EAAO,CACtD,OAAQA,MAAM,CAACZ,IAAf,EACE,IAAKL,CAAAA,WAAL,CAAkB,CAChB,wBACKgB,SADL,EAEEE,OAAO,CAAE,CACPC,MAAM,CAAE,IADD,CAEPC,KAAK,CAAE,KAFA,CAFX,GAOD,CACD,IAAKnB,CAAAA,aAAL,CAAoB,CAClB,wBACKe,SADL,EAEEE,OAAO,CAAE,CACPC,MAAM,CAAE,KADD,CAEPC,KAAK,CAAE,KAFA,CAFX,CAMEP,IAAI,CAAEI,MAAM,CAACT,OANf,GAQD,CACD,IAAKN,CAAAA,WAAL,CAAkB,CAChB,wBACKc,SADL,EAEEE,OAAO,CAAE,CACPC,MAAM,CAAE,KADD,CAEPC,KAAK,CAAEH,MAAM,CAACT,OAFP,CAFX,GAOD,CACD,IAAKL,CAAAA,WAAL,CAAkB,CAChB,wBACKa,SADL,EAEEpB,MAAM,CAAEqB,MAAM,CAACT,OAFjB,GAID,CACD,QACE,MAAOQ,CAAAA,SAAP,CApCJ,CAsCD,CAvCM","sourcesContent":["import axios from 'axios';\nimport { API_URL } from '../config';\n\n/* selectors */\nexport const getOrders = ({orders}) => orders;\n\n/* action name creator */\nconst reducerName = 'orders';\nconst createActionName = name => `app/${reducerName}/${name}`;\n\n/* action types */\nconst FETCH_START = createActionName('FETCH_START');\nconst FETCH_SUCCESS = createActionName('FETCH_SUCCESS');\nconst FETCH_ERROR = createActionName('FETCH_ERROR');\nconst LOAD_ORDERS = createActionName('LOAD_ORDERS');\n\n/* action creators */\nexport const fetchStarted = () => ({ type: FETCH_START });\nexport const fetchSuccess = () => ({ type: FETCH_SUCCESS });\nexport const fetchError = payload => ({ payload, type: FETCH_ERROR });\nexport const loadOrders = payload => ({ payload, type: LOAD_ORDERS });\n\n/* thunk creators */\nexport const loadOrdersRequest = () => {\n  return async dispatch => {\n    dispatch(fetchStarted());\n    try {\n      let orders = await axios.get(`${API_URL}/orders`);\n      await dispatch(loadOrders(orders.data));\n      await dispatch(fetchSuccess());\n    } catch(e) {\n      dispatch(fetchError(e.message));\n    }\n  };\n};\n\n/* reducer */\nexport const reducer = (statePart = [], action = {}) => {\n  switch (action.type) {\n    case FETCH_START: {\n      return {\n        ...statePart,\n        loading: {\n          active: true,\n          error: false,\n        },\n      };\n    }\n    case FETCH_SUCCESS: {\n      return {\n        ...statePart,\n        loading: {\n          active: false,\n          error: false,\n        },\n        data: action.payload,\n      };\n    }\n    case FETCH_ERROR: {\n      return {\n        ...statePart,\n        loading: {\n          active: false,\n          error: action.payload,\n        },\n      };\n    }\n    case LOAD_ORDERS: {\n      return {\n        ...statePart,\n        orders: action.payload,\n      };\n    }\n    default:\n      return statePart;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}