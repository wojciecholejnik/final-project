{"ast":null,"code":"import _classCallCheck from\"/Users/wojtas/Desktop/Kodilla/final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wojtas/Desktop/Kodilla/final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/wojtas/Desktop/Kodilla/final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/wojtas/Desktop/Kodilla/final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/wojtas/Desktop/Kodilla/final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{NavLink}from'react-router-dom';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import Select from'@material-ui/core/Select';import Grid from'@material-ui/core/Grid';import Button from'@material-ui/core/Button';import AddShoppingCartIcon from'@material-ui/icons/AddShoppingCart';import{TextField}from'@material-ui/core';import clsx from'clsx';import{connect}from'react-redux';import{getCakes,getCupcakes}from'../../../redux/productsRedux';import{addToCart as _addToCart}from'../../../redux/cartRedux';import styles from'./Product.module.scss';var shortid=require('shortid');var Component=/*#__PURE__*/function(_React$Component){_inherits(Component,_React$Component);function Component(){var _getPrototypeOf2;var _this;_classCallCheck(this,Component);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Component)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={id:shortid.generate(),type:'',title:'',img:'',price:'',amount:1,wishes:'',totalCost:null};_this.setToCart=function(product){if(JSON.parse(localStorage.getItem('cart'))){var cart=JSON.parse(localStorage.getItem('cart'));cart.push(product);localStorage.setItem('cart',JSON.stringify(cart));}else{var _cart=[];_cart.push(product);localStorage.setItem('cart',JSON.stringify(_cart));}};_this.getOne=function(id,type){if(type==='cake'){return _this.props.cakes.find(function(product){return product._id===id;});}else{return _this.props.cupcakes.find(function(product){return product._id===id;});}};return _this;}_createClass(Component,[{key:\"componentDidMount\",value:function componentDidMount(){var product=this.getOne(this.props.match.params.id.split('-')[1],this.props.match.params.id.split('-')[0]);this.setState({type:this.props.match.params.id.split('-')[0],title:product.title,img:product.img,price:product.price,totalCost:product.price*this.state.amount});}},{key:\"render\",value:function render(){var _this2=this;var matchType=this.props.match.params.id.split('-')[0];var matchId=this.props.match.params.id.split('-')[1];var product=this.getOne(matchId,matchType);var amountItems=[1,2,3,4,5,6,7,8,9,10];return React.createElement(\"div\",{className:clsx(styles.root)},React.createElement(Grid,{container:true,spacing:2},React.createElement(Grid,{item:true,xs:12},React.createElement(\"img\",{className:styles.img,alt:product.title,src:matchType==='cake'?require('../../../images/products/cakes/'+product.img):require('../../../images/products/cupcakes/'+product.img)})),React.createElement(Grid,{item:true,xs:12},React.createElement(\"div\",{className:styles.container},React.createElement(\"div\",{className:styles.innerContainer},React.createElement(\"div\",{className:styles.title},product.title),React.createElement(\"div\",{className:styles.price},\"$\",this.state.totalCost)),React.createElement(\"div\",{className:styles.optionContainer},React.createElement(\"div\",null,React.createElement(TextField,{onChange:function onChange(event){_this2.setState({wishes:event.target.value});},className:styles.textField,label:\"Your wishes:\",multiline:true})),React.createElement(\"div\",{className:styles.amount},React.createElement(InputLabel,{id:\"demo-simple-select-label\"},\"Amount\"),React.createElement(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",defaultValue:1,onChange:function onChange(event){_this2.setState({amount:event.target.value,totalCost:_this2.state.price*event.target.value});}},amountItems.map(function(item){return React.createElement(MenuItem,{key:item,value:item},item);})))),React.createElement(Button,{className:styles.button,variant:\"contained\",color:\"primary\",size:\"large\",startIcon:React.createElement(AddShoppingCartIcon,null),onClick:function onClick(){_this2.props.addToCart(_this2.state);_this2.setToCart(_this2.state);},component:NavLink,to:\"/cart\"},\"Add to cart\")))));}}]);return Component;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{cakes:getCakes(state),cupcakes:getCupcakes(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addToCart:function addToCart(product){return dispatch(_addToCart(product));}};};var Container=connect(mapStateToProps,mapDispatchToProps)(Component);export{// Component as Product,\nContainer as Product,Component as ProductComponent};","map":{"version":3,"sources":["/Users/wojtas/Desktop/Kodilla/final-project/src/components/views/Product/Product.js"],"names":["React","NavLink","InputLabel","MenuItem","Select","Grid","Button","AddShoppingCartIcon","TextField","clsx","connect","getCakes","getCupcakes","addToCart","styles","shortid","require","Component","state","id","generate","type","title","img","price","amount","wishes","totalCost","setToCart","product","JSON","parse","localStorage","getItem","cart","push","setItem","stringify","getOne","props","cakes","find","_id","cupcakes","match","params","split","setState","matchType","matchId","amountItems","root","container","innerContainer","optionContainer","event","target","value","textField","map","item","button","mapStateToProps","mapDispatchToProps","dispatch","Container","Product","ProductComponent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport { TextField } from '@material-ui/core';\n\nimport clsx from 'clsx';\n\nimport { connect } from 'react-redux';\nimport { getCakes, getCupcakes } from '../../../redux/productsRedux';\nimport { addToCart } from '../../../redux/cartRedux';\n\n\nimport styles from './Product.module.scss';\n\nconst shortid = require('shortid');\n\nclass Component extends React.Component {\n\n  state = {\n    id: shortid.generate(),\n    type: '',\n    title: '',\n    img: '',\n    price: '',\n    amount: 1,\n    wishes: '',\n    totalCost: null,\n  };\n\n  setToCart = (product) => {\n    if(JSON.parse(localStorage.getItem('cart'))){\n      const cart = JSON.parse(localStorage.getItem('cart'));\n      cart.push(product);\n      localStorage.setItem('cart', JSON.stringify(cart));\n    } else {\n      const cart = [];\n      cart.push(product);\n      localStorage.setItem('cart', JSON.stringify(cart));\n    }\n  }\n\n  componentDidMount(){\n    const product = this.getOne(this.props.match.params.id.split('-')[1], this.props.match.params.id.split('-')[0]);\n    this.setState({\n      type: this.props.match.params.id.split('-')[0],\n      title: product.title,\n      img: product.img,\n      price: product.price,\n      totalCost: product.price * this.state.amount,\n    });\n  }\n\n  getOne = (id, type) => {\n    if(type === 'cake'){\n      return this.props.cakes.find(product => product._id === id);\n    } else {\n      return this.props.cupcakes.find(product => product._id === id);\n    }\n  };\n\n  render(){\n    const matchType = this.props.match.params.id.split('-')[0];\n    const matchId = this.props.match.params.id.split('-')[1];\n    const product = this.getOne(matchId, matchType);\n    const amountItems = [1,2,3,4,5,6,7,8,9,10];\n\n    return (\n      <div className={clsx(styles.root)}>\n        <Grid container spacing={2} >\n          <Grid item xs={12} >\n            <img className={styles.img} alt={product.title} src={matchType === 'cake' ? require('../../../images/products/cakes/' + product.img) : require('../../../images/products/cupcakes/' + product.img)}></img>\n          </Grid>\n          <Grid item xs={12} >\n            <div className={styles.container}>\n              <div className={styles.innerContainer}>\n                <div className={styles.title}>{product.title}</div>\n                <div className={styles.price}>${this.state.totalCost}</div>\n              </div>\n              <div className={styles.optionContainer}>\n                <div >\n                  <TextField\n                    onChange={(event) => {\n                      this.setState({wishes: event.target.value});\n                    }}\n                    className={styles.textField}\n                    label='Your wishes:'\n                    multiline\n                  ></TextField>\n                </div>\n                <div className={styles.amount}>\n                  <InputLabel id=\"demo-simple-select-label\">Amount</InputLabel>\n                  <Select\n                    labelId=\"demo-simple-select-label\"\n                    id=\"demo-simple-select\"\n                    defaultValue={1}\n                    onChange={(event)=>{\n                      this.setState({\n                        amount: event.target.value,\n                        totalCost: this.state.price * event.target.value,\n                      });\n                    }}\n                  >\n                    {amountItems.map(item => (\n                      <MenuItem key={item} value={item}>{item}</MenuItem>\n                    ))}\n                  </Select>\n                </div>\n              </div>\n              <Button\n                className={styles.button}\n                variant='contained'\n                color='primary'\n                size='large'\n                startIcon={<AddShoppingCartIcon></AddShoppingCartIcon>}\n                onClick={() => {\n                  this.props.addToCart(this.state);\n                  this.setToCart(this.state);\n                }}\n                component={NavLink}\n                to='/cart'\n              >\n                Add to cart\n              </Button>\n            </div>\n          </Grid>\n        </Grid>\n\n      </div>\n    );\n  }\n}\n\nComponent.propTypes = {\n  cakes: PropTypes.array,\n  cupcakes: PropTypes.array,\n  match: PropTypes.object,\n  addToCart: PropTypes.func,\n};\n\n\n\n\nconst mapStateToProps = state => ({\n  cakes: getCakes(state),\n  cupcakes: getCupcakes(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addToCart: (product) => dispatch(addToCart(product)),\n});\n\nconst Container = connect(mapStateToProps, mapDispatchToProps)(Component);\n\nexport {\n  // Component as Product,\n  Container as Product,\n  Component as ProductComponent,\n};\n"]},"metadata":{},"sourceType":"module"}